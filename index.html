<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=750,user-scalable=no">
  <meta name="format-detection" content="telephone=no">
  <title>歌者盟</title>
</head>
<body>
  <video style='width:300px;height:300px;' controls='controls'></video>
  <script>
navigator.getUserMedia = navigator.getUserMedia ||
                         navigator.webkitGetUserMedia ||
                         navigator.mozGetUserMedia || navigator.mediaDevices.getUserMedia;

if (navigator.getUserMedia) {
   navigator.getUserMedia({ audio: true, video:true },
      function(stream) {
         try{
          var video = document.querySelector('video');
           video.src = URL.createObjectURL(stream);
           
           alert(video)
           video.onloadedmetadata = function(e) {
      
             video.play();
           };
         }catch(err){
          alert(err)
         }
      },
      function(err) {
         alert("The following error occurred: " + err.name);
      }
   );
} else {
  alert("getUserMedia not supported");
}
  </script>
</body>
</html>
