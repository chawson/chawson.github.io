<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=750,user-scalable=no">
  <meta name="format-detection" content="telephone=no">
  <title>歌者盟</title>
</head>
<body>
  <audio style='width:300px;height:300px;' controls='controls'></audio>
  <script>
navigator.getUserMedia = navigator.getUserMedia ||
                         navigator.webkitGetUserMedia ||
                         navigator.mozGetUserMedia || navigator.mediaDevices.getUserMedia;

if (navigator.getUserMedia) {
   navigator.getUserMedia({video:true,audio:true},
      function(stream) {
         try{
          var video = document.querySelector('audio');
           video.src = URL.createObjectURL(stream);
   
           video.onloadedmetadata = function(e) {
      
             video.play();
           };
           
           video.onerror = function(e){
            alert('音频错误'+e.message)
           }
         }catch(err){
          alert('什么'+err)
         }
      },
      function(err) {
         alert("The following error occurred: " + err.name);
      }
   );
} else {
  alert("getUserMedia not supported");
}
  </script>
</body>
</html>
